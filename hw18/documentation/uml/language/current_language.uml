@startuml
participant "Клиент" as C
participant "Интерактор доступных языков" as LI
database    SharedPreferences as SP
database    SQLite as DB
participant "Клиент для получения доступных языков" as CLI
participant HolidayApi as SHA
C -> LI : Метод получения текущего выбранного языка
LI -> SP : Получения текущего выбранного языка
alt пользователь хотя бы раз выбрал язык в настройках
  SP -> LI : Код текущего выбранного языка
else
  SP -> LI : Код текущего выбранного языка по умолчанию
  end
LI -> DB : Получение описания текущего языка
alt В БД сохранены доступные языки
  DB -> LI : Описание текущего выбранного языка
  LI -> C : Найденный язык
else
  DB -> LI : null значение как факт отсутствия доступного языка для указанного кода
  LI -> CLI : Запрос на получение доступных языков с серверов HolidayApi
  CLI -> SHA : GET /v1/languages
  SHA -> CLI : Список доступных языков
  CLI -> LI : Список доступных языков
  LI -> DB : Сохранение доступных языков
  LI -> LI : Поиск языка по коду выбранного языка
  alt язык был найден
    LI -> C : Найденный язык
  else
    LI -> C : Неизвестный язык
    end
  end
@enduml